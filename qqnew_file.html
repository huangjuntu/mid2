<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>无标题文档</title>
		<style type="text/css">
			ul li.aaa {
				color: red;
			}
		</style>
	</head>

	<body>
		<div id="a1" class="aaa" style="width:300px;height:3000px;background-color:#0000FF;">111
		</div>
		<div id="a2" class="aaa" style="width:300px;height:3000px;background-color:#A38B39;">
			222
		</div>
		<div id="a3" class="aaa" style="width:300px;height:5000px;background-color:palegreen;">
			333
		</div>
		<div id="a4" class="aaa" style="width:300px;height:2000px;background-color:gold;">
			444
		</div>
		<div id="a5" class="aaa" style="width:300px;height:1000px;background-color:salmon;">
			555
		</div>
		<div id="a6" class="aaa" style="width:300px;height:3000px;background-color:gold;">
			666
		</div>
		<ul id="list" style="position: fixed;top:50px;right:0px;">
			<li class="aaa"><a href="#a1">这里是1</a></li>
			<li><a href="#a1">这里是2</a></li>
			<li><a href="#a2">这里是3</a></li>
			<li><a href="#a3">这里是4</a></li>
			<li><a href="#a4">这里是5</a></li>
			<li><a href="#a5">这里是6</a></li>
		</ul>
		<!--<iframe width="504" height="425" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="http://j.map.baidu.com/fKyXz"></iframe>-->
		<script src="http://www.jq22.com/jquery/jquery-2.1.1.js"></script>
		<script type="text/javascript">
			$(function() {
				var a1 = document.getElementById("a1");
				var bound = a1.getBoundingClientRect();
				var a2 = document.getElementById("a2");
				var bound2 = a2.getBoundingClientRect();
				var a3 = document.getElementById("a3");
				var bound3 = a3.getBoundingClientRect();
				var a4 = document.getElementById("a4");
				var bound4 = a4.getBoundingClientRect();
				var a5 = document.getElementById("a5");
				var bound5 = a5.getBoundingClientRect();
				var a6 = document.getElementById("a6");
				var bound6 = a6.getBoundingClientRect();
				var top = 0;
				var list = $("#list");
				var leng = list.children().length;
				var now_li = 0;
				$(window).scroll(function() {
					top = $(this).scrollTop();
					if(bound.top <= top && top <= bound.bottom) {
						now_li = 0;
					} else if(bound2.top <= top && top <= bound2.bottom) {
						now_li = 1;
					} else if(bound3.top <= top && top <= bound3.bottom) {
						now_li = 2;
					} else if(bound4.top <= top && top <= bound4.bottom) {
						now_li = 3;
					} else if(bound5.top <= top && top <= bound5.bottom) {
						now_li = 4;
					} else if(bound6.top <= top && top <= bound6.bottom) {
						now_li = 5;
					}
					for(i = 0; i < leng; i++) {
						list.children().eq(i).removeClass("aaa");
					}
					list.children().eq(now_li).addClass("aaa");
				});
				list.children().mouseover(function() {
					$(this).addClass("aaa");
				});
				list.children().mouseout(function() {
					if($(this).index() != now_li) {
						$(this).removeClass("aaa");
					}
				});
			});
		</script>
	</body>

</html>